geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=fct_rev(second_number), y=first_number, fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=first_number, fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(1,50,100,250,500)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(1,50,100,250,500)
ggplot(initials_count, aes(x=p_sn, y=fct_rev(p_fn), fill = surcount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Surname initial",
y="First name initial",
title = "AFL players initials 1897 - 2022",
caption = "*Initial from first surname taken from hyphenated names
@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = surcount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
initials_count <- p_initials %>%
group_by(p_fn,p_sn)%>%
mutate(surcount = count(p_sn))%>%
ungroup()
initials_count%>%
unique()%>%
mutate(median = median(surcount))%>%
arrange(desc(surcount))
initials_count%>%
reorder(p_fn = fct_reorder(p_fn))
my_breaks <- c(1,10,25,100,250)
ggplot(initials_count, aes(x=p_sn, y=fct_rev(p_fn), fill = surcount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Surname initial",
y="First name initial",
title = "AFL players initials 1897 - 2022",
caption = "*Initial from first surname taken from hyphenated names
@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = surcount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggsave('output/afl-initials.png', dp = 1000)
my_breaks <- c(1,50,100,250,500)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(1,25,50,100,500)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(seq(1,500,25))
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(seq(1,600,25))
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(300,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(5,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(100,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(1000000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
View(numbers_count)
number<-afltables %>%
select(Season,Jumper.No.,First.name,Surname)
player_numbers <- number %>%
unique() %>%
filter(Jumper.No. != 0) %>%
mutate(jumper = str_remove_all(Jumper.No.," ↑")) %>%
mutate(jumper = str_remove_all(jumper," ↓")) %>%
select(-Jumper.No.) %>%
mutate(jumper_length = str_length(jumper))%>%
clean_names() %>%
mutate(first_number = ifelse(jumper_length == 1, 0, substr(jumper,1,1)),
second_number = ifelse(jumper_length == 1, substr(jumper,1,1), substr(jumper,2,2))) %>%
select(-jumper_length) %>%
unique()
numbers_count <- player_numbers %>%
group_by(first_number,second_number)%>%
mutate(jumpercount = count(jumper))%>%
ungroup()
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(1000000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
numbers_count <- player_numbers %>%
group_by(first_number,second_number)%>%
mutate(jumpercount = count(jumper))%>%
ungroup() %>%
filter(season == 2022)
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(1000000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
numbers_count
numbers_count <- player_numbers %>%
group_by(first_number,second_number) %>%
filter(season == 2022) %>%
mutate(jumpercount = count(jumper))%>%
ungroup()
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(1000000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
View(numbers_count)
numbers_count <- player_numbers %>%
group_by(first_number,second_number) %>%
# filter(season == 2022) %>%
mutate(jumpercount = count(jumper))%>%
ungroup()
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(1000000,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
player_numbers <- number %>%
unique() %>%
filter(Jumper.No. != 0) %>%
mutate(jumper = str_remove_all(Jumper.No.," ↑")) %>%
mutate(jumper = str_remove_all(jumper," ↓")) %>%
select(-Jumper.No.) %>%
mutate(jumper_length = str_length(jumper))%>%
clean_names() %>%
mutate(first_number = ifelse(jumper_length == 1, 0, substr(jumper,1,1)),
second_number = ifelse(jumper_length == 1, substr(jumper,1,1), substr(jumper,2,2))) %>%
select(-jumper_length) %>%
unique()
numbers_count <- player_numbers %>%
group_by(first_number,second_number) %>%
# filter(season == 2022) %>%
mutate(jumpercount = count(jumper))%>%
ungroup()
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
View(numbers_count)
number<-afltables %>%
select(Jumper.No.,First.name,Surname)
player_numbers <- number %>%
unique() %>%
filter(Jumper.No. != 0) %>%
mutate(jumper = str_remove_all(Jumper.No.," ↑")) %>%
mutate(jumper = str_remove_all(jumper," ↓")) %>%
select(-Jumper.No.) %>%
mutate(jumper_length = str_length(jumper))%>%
clean_names() %>%
mutate(first_number = ifelse(jumper_length == 1, 0, substr(jumper,1,1)),
second_number = ifelse(jumper_length == 1, substr(jumper,1,1), substr(jumper,2,2))) %>%
select(-jumper_length) %>%
unique()
numbers_count <- player_numbers %>%
group_by(first_number,second_number) %>%
# filter(season == 2022) %>%
mutate(jumpercount = count(jumper))%>%
ungroup()
my_breaks <- c(1,300,400,500,600)
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2022",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
ggplot(numbers_count, aes(x=second_number, y=fct_rev(first_number), fill = jumpercount))+
geom_tile(color = "black",
lwd = 0.5,
linetype = 1)+
labs(
x="Second digit",
y="First digit",
title = "AFL jumper numbers numbers 1897 - 2023",
caption = "@BenCochraneR"
)+
scale_fill_gradientn(colors = hcl.colors(10,"YlOrRd", rev = T), name = "count", trans = "log", breaks = my_breaks, labels = my_breaks)+
theme_classic()+
geom_text(aes(label = jumpercount), color = "Black", size = 4)+
scale_x_discrete(position = "top")+
theme(legend.position = "none")
### Path to the MCG
library(tidyverse)
### Path to the MCG
library(tidyverse)
options(timeout = 1000)
remotes::install_github("wfmackey/absmapsdata")
install.packages("gmapsdistance")
pacman::p_load(tidyverse,
absmapsdata,
gmapsdistance)
absmapsdata::sa22016
sa2 <- absmapsdata::sa22016
View(sa2)
sa2 %>%
ggplot()+
geom_sf()
mcg <- c("-37.819954", "144.983398")
mcg <- c(-37.819954, 144.983398)
View(sa2)
sa2 <- absmapsdata::sa22016 %>%
mutate(latlon = str_c(cent_lat,cent_lon,sep = '+'))
sa2 <- absmapsdata::sa22016 %>%
mutate(latlon = str_c(cent_lat,cent_long,sep = '+'))
mcg <- c("-37.819954+144.983398")
cbr <- c("-35.3183+149.1330")
gmapsdistance(origin = cbr,
destination = mcg,
mode = 'driving')
get.api.key()
gmapsdistance(origin = cbr,
destination = mcg,
mode = 'driving',
key = "AIzaSyBDBstnhZZJqNdGhFAFShY65CoLZ-mCRGY")
c("Washington DC", "New York NY", "Seattle WA")
c("Washington DC", "New York NY", "Seattle WA")
sa2$cent_lat
player_stats <- readRDS("data/player_aflw_stats_2023.rds")
library(pacman)
p_load(
tidyverse,
purrr,
fitzRoy,
glue,
lubridate,
rasterImage,
png,
RCurl,
EBImage,
magick
)
player_stats <- readRDS("data/player_aflw_stats_2023.rds")
# seasons <- c(2013:2023)
seasons <- c(2017:2023)
