png(glue('output/faces/{team_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths, load_and_raster, alpha = 0.1)
dev.off()
png(glue('output/faces/{team_name}_rev.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_rev, load_and_raster, alpha = 0.1)
dev.off()
imgpaths_shuffle <- imgpaths %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/{team_name}_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.1)
dev.off()
}
walk(team_names, raster_teams)
levels(imgpaths)
raster_teams <- function(team_name){
imgpaths <- list.files(path="D:/data/player_photos/",
pattern = glue("^2022_{team_name}"), full.names = T)
imgpaths_rev <- imgpaths %>% sort(decreasing = TRUE)
png(glue('output/faces/{team_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths, load_and_raster, alpha = 0.01)
dev.off()
png(glue('output/faces/{team_name}_rev.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_rev, load_and_raster, alpha = 0.01)
dev.off()
imgpaths_shuffle <- imgpaths %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/{team_name}_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.01)
dev.off()
}
imgpaths_shuffle
imgpaths_shuffle
imgpaths_shuffle
print(imgpaths_shuffle)
print(imgpaths_shuffle)[1]
print_test <- function(x){
print(imgpaths_shuffle)[x]
}
walk(c(1:18), print_test)
print_test <- function(x){
print(imgpaths_shuffle)[x]
print("done")
}
walk(c(1:18), print_test)
print(imgpaths_shuffle)[1]
numbers <- c(1:18)
walk(c(1:18), print_test)
library(tidyverse)
library(purrr)
library(fitzRoy)
library(glue)
library(lubridate)
library(rasterImage)
library(png)
library(magick)
player_details <- readRDS("data/player_details_2022.rds")
player_stats <- readRDS("data/player_stats_2022.rds")
team_names <-
player_stats %>%
select(team.name) %>%
unique() %>%
na.omit() %>%
unlist()
load_and_raster <- function(img_url, alpha){
png_load <- readPNG(source = img_url)
png_load[,,4] = alpha
rasterImage(png_load, 0, 0, 1, 1)
}
imgpaths <- list.files(path="D:/data/player_photos/", full.names=T)
raster_teams <- function(team_name){
imgpaths <- list.files(path="D:/data/player_photos/",
pattern = glue("^2022_{team_name}"), full.names = T)
imgpaths_rev <- imgpaths %>% sort(decreasing = TRUE)
png(glue('output/faces/{team_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths, load_and_raster, alpha = 0.01)
dev.off()
png(glue('output/faces/{team_name}_rev.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_rev, load_and_raster, alpha = 0.01)
dev.off()
imgpaths_shuffle <- imgpaths %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/{team_name}_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.01)
dev.off()
}
walk(team_names, raster_teams)
raster_teams <- function(team_name,
alpha_amount = 0.05){
imgpaths <- list.files(path="D:/data/player_photos/",
pattern = glue("^2022_{team_name}"), full.names = T)
imgpaths_rev <- imgpaths %>% sort(decreasing = TRUE)
png(glue('output/faces/{team_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths, load_and_raster, alpha = alpha_amount)
dev.off()
png(glue('output/faces/{team_name}_rev.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_rev, load_and_raster, alpha = alpha_amount)
dev.off()
imgpaths_shuffle <- imgpaths %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/{team_name}_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = alpha_amount)
dev.off()
}
walk(team_names, raster_teams)
imgpaths <- list.files(path="D:/data/player_photos/",
pattern = glue("^2022_{team_name}"), full.names = T)
imgpaths <- list.files(path="D:/data/player_photos/",
pattern = glue("Adam"), full.names = T)
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("Adam"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.05)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Adams)(?:.+)(2023|Adams)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.05)
dev.off()
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.1)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Adams)(?:.+)(2023|Adams)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Adams)(?:.+)(2023|Adams)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.3)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Smith)(?:.+)(2023|Smith)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.3)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Smith)(?:.+)(2023|Smith)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(202\\d|Smith)(?:.+)(202\\d|Smith)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2023|Smith)(?:.+)(2023|Smith)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|Smith)(?:.+)(2022|Smith)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/Adam_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
View(player_stats)
player_stats %>%
select(player.surname)
player_stats %>%
select(player.surname) %>%
add_count()
player_stats %>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count()
player_stats %>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
unique() %>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
unique() %>%
select(player.surname) %>%
unique() %>%
group_by(player.surname)%>%
add_count() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
View(player_stats)
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>% View()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|De Koning)(?:.+)(2022|De Koning)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/DK_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.2)
dev.off()
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|De Koning)(?:.+)(2022|De Koning)"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/DK_shuffle.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.3)
dev.off()
custom_raster <- function(pattern_name){
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|{pattern_name})(?:.+)(2022|{pattern_name})"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/{pattern_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = 0.3)
dev.off()
}
custom_raster("Guthrie")
custom_raster <- function(pattern_name, alpha_set){
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|{pattern_name})(?:.+)(2022|{pattern_name})"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/{pattern_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = alpha_set)
dev.off()
}
custom_raster("Guthrie", alpha_set = 0.4)
custom_raster("Brown", alpha_set = 0.4)
custom_raster("Brown", alpha_set = 0.3)
custom_raster("Rioli", alpha_set = 0.3)
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
custom_raster("Kelly", alpha_set = 0.3)
custom_raster("Kelly", alpha_set = 0.2)
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n))
custom_raster("Cameron", alpha_set = 0.2)
custom_raster("Kennedy", alpha_set = 0.2)
custom_raster("Cox", alpha_set = 0.2)
custom_raster("Walker", alpha_set = 0.2)
custom_raster("Walker", alpha_set = 0.3)
custom_raster("Daicos", alpha_set = 0.3)
custom_raster("Daicos", alpha_set = 0.2)
custom_raster("Brayshaw", alpha_set = 0.2)
custom_raster("Jones", alpha_set = 0.2)
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>%
filter(n > 20)
bulk <-
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>%
filter(n > 20) %>%
select(player.surname)
bulk
bulk <-
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>%
filter(n > 20) %>%
select(player.surname) %>%
unlist(0)
bulk <-
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>%
filter(n > 50) %>%
select(player.surname) %>%
unlist(0)
bulk <-
player_stats %>%
filter(season == 2022)%>%
select(player.surname) %>%
group_by(player.surname)%>%
add_count() %>%
unique() %>%
arrange(desc(n)) %>%
filter(n > 30) %>%
select(player.surname) %>%
unlist(0)
custom_raster <- function(pattern_name, alpha_set = 0.2){
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|{pattern_name})(?:.+)(2022|{pattern_name})"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/{pattern_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = alpha_set)
dev.off()
}
walk(bulk,custom_raster)
custom_raster <- function(pattern_name, alpha_set = 0.25){
imgpaths_custom <- list.files(path="D:/data/player_photos/",
pattern = glue("(2022|{pattern_name})(?:.+)(2022|{pattern_name})"), full.names = T)
imgpaths_shuffle <- imgpaths_custom %>%
as_tibble() %>%
mutate(id = row_number()) %>%
sample_n(nrow(.)) %>%
select(value)%>%
unlist()
png(glue('output/faces/custom/{pattern_name}.png'), width = 2, height = 2, units = 'in', res = 150)
par(mai=c(0,0,0,0))
plot.new()
walk(imgpaths_shuffle, load_and_raster, alpha = alpha_set)
dev.off()
}
walk(bulk,custom_raster)
